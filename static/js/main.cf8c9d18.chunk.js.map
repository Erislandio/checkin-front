{"version":3,"sources":["serviceWorker.js","assets/icons.js","components/services/api.js","components/atoms/formDefault.js","components/pages/login/login.js","components/pages/create/signin.js","components/atoms/routesConfig.js","components/pages/home/bottomNavigator.js","components/pages/home/home.js","components/atoms/withUserData.js","components/pages/home/preHome.js","components/pages/account/account.js","components/Index.js","index.js"],"names":["Boolean","window","location","hostname","match","Logo","src","api","axios","create","baseURL","FormDefaultWrapper","onSubmit","children","className","InputDefault","placeholder","name","type","onChange","disabled","required","title","value","ButtonDefault","isLoading","onClick","LoginScreen","history","addToast","useToasts","useState","email","password","user","setUser","setLoading","handleChange","e","target","handleSubmit","a","preventDefault","post","then","data","code","error","message","appearance","localStorage","setItem","JSON","stringify","go","catch","finally","id","to","style","color","SignInScreen","lastname","longitude","latitude","useEffect","navigator","geolocation","getCurrentPosition","position","coords","Promise","res","rej","getItem","href","PrivateRoute","Component","component","rest","render","props","exact","LoginRoute","path","PublicRoute","restricted","BottomNavigation","search","size","Home","useContext","UserContext","viewport","center","zoom","setLocation","userLocation","setUserLocation","loadingData","setLoadingData","users","setUsers","findUsersWithSymptom","token","headers","Authorization","length","Map","onViewportChanged","TileLayer","attribution","url","Marker","Popup","map","coordinates","key","_id","withUserData","loading","cookie","parse","get","params","sendSymptom","patch","finish","fin","setTimeout","confirmAlert","options","buttons","label","closeOnEscape","closeOnClickOutside","symptom","push","userAddress","address","checked","setChecked","postalCode","complemento","bairro","uf","logradouro","localidade","number","setAddress","handleExit","cep","replace","erro","removeItem","textAlign","parseInt","mask","active","spinner","text","createContext","Provider","basename","Login","SignIn","PreHome","Account","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.cf8c9d18.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\n\nexport const HappyFace = () => (\n  <img src=\"https://img.icons8.com/cute-clipart/64/000000/happy.png\" />\n);\n\nexport const Logo = () => (\n  <img src=\"https://img.icons8.com/cotton/64/000000/test-tube.png\" />\n);\n","import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: `https://check1in.herokuapp.com/`\n});\n","import React from \"react\";\n\nexport const FormDefaultWrapper = ({ onSubmit, children }) => {\n  return (\n    <form onSubmit={onSubmit} className=\"default-form\">\n      {children}\n    </form>\n  );\n};\n\nexport const InputDefault = ({\n  placeholder,\n  name,\n  type,\n  onChange,\n  disabled,\n  required,\n  title,\n  value\n}) => (\n  <div className=\"default-input\">\n    <label>{title}</label>\n    <input\n      value={value}\n      placeholder={placeholder}\n      type={type}\n      onChange={onChange}\n      name={name}\n      disabled={disabled}\n      required={required}\n    />\n  </div>\n);\n\nexport const ButtonDefault = ({\n  isLoading,\n  disabled,\n  onClick,\n  title,\n  type\n}) => {\n  return (\n    <div className=\"default-button\">\n      <button type={type} onClick={onClick} disabled={disabled}>\n        {isLoading ? \"...\" : title}\n      </button>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport \"./login.css\";\nimport { Link } from \"react-router-dom\";\nimport { Logo } from \"../../../assets/icons\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { api } from \"../../services/api\";\nimport {\n  FormDefaultWrapper,\n  InputDefault,\n  ButtonDefault\n} from \"../../atoms/formDefault\";\n\nexport default function LoginScreen({ history }) {\n  const { addToast } = useToasts();\n\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const [isLoading, setLoading] = useState(false);\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n\n    setUser({\n      ...user,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      api\n        .post(\"/login\", {\n          email: user.email,\n          password: user.password\n        })\n        .then(({ data }) => {\n          if (data.code) {\n            return addToast(data.error.message, {\n              appearance: \"error\"\n            });\n          }\n          localStorage.setItem(\"user\", JSON.stringify(data));\n          history.go(\"/pre-home\");\n        })\n        .catch(error => {\n          addToast(\n            \"Ops! não foi possível acessar o app no momento,  tente novamente mais tarde\",\n            {\n              appearance: \"error\"\n            }\n          );\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n\n      setLoading(false);\n    } catch (error) {\n      addToast(\n        \"Ops! não foi possível acessar o app no momento,  tente novamente mais tarde\",\n        {\n          appearance: \"error\"\n        }\n      );\n    }\n  };\n\n  return (\n    <section id=\"login\">\n      <main className=\"container\">\n        <header>\n          <Logo />\n          <h3>Checkin</h3>\n        </header>\n\n        <FormDefaultWrapper onSubmit={handleSubmit}>\n          <h3> Login</h3>\n          <InputDefault\n            required\n            title=\"Email\"\n            placeholder=\"Email\"\n            type=\"email\"\n            value={user.email}\n            onChange={handleChange}\n            name=\"email\"\n          />\n          <InputDefault\n            required\n            title=\"Senha\"\n            placeholder=\"Senha\"\n            type=\"password\"\n            onChange={handleChange}\n            value={user.password}\n            name=\"password\"\n          />\n          <ButtonDefault\n            title=\"Entrar\"\n            type=\"submit\"\n            isLoading={isLoading}\n            disabled={isLoading}\n          />\n          <Link to=\"/signin\">\n            Não tem uma <span style={{ color: \"#c599c6\" }}>Conta</span>?\n          </Link>\n        </FormDefaultWrapper>\n      </main>\n    </section>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./signin.css\";\nimport { Link } from \"react-router-dom\";\nimport {\n  FormDefaultWrapper,\n  InputDefault,\n  ButtonDefault\n} from \"../../atoms/formDefault\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { api } from \"../../services/api\";\n\nexport default function SignInScreen({ history }) {\n  const { addToast } = useToasts();\n\n  const [user, setUser] = useState({\n    name: \"\",\n    lastname: \"\",\n    email: \"\",\n    password: \"\",\n    longitude: 0,\n    latitude: 0\n  });\n\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(position => {\n      const {\n        coords: { longitude, latitude }\n      } = position;\n\n      setUser({ ...user, longitude, latitude });\n    });\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/user\", {\n        ...user\n      });\n\n      if (data.error) {\n        setLoading(false);\n        return addToast(data.message, {\n          appearance: \"error\"\n        });\n      }\n\n      if (data) {\n        api\n          .post(\"/login\", {\n            email: user.email,\n            password: user.password\n          })\n          .then(({ data }) => {\n            if (data.code) {\n              addToast(data.message, {\n                appearance: \"error\"\n              });\n            }\n            localStorage.setItem(\"user\", JSON.stringify(data));\n\n            const check = new Promise((res, rej) => {\n              if (localStorage.getItem(\"user\")) {\n                res();\n              }\n            });\n\n            check\n              .then(() => {\n                window.location.href = \"/pre-home\";\n              })\n              .catch(() => {\n                window.location.href = \"/home\";\n              });\n          })\n          .catch(error => {\n            addToast(\n              \"Ops! não foi possível acessar o app no momento,  tente novamente mais tarde\",\n              {\n                appearance: \"error\"\n              }\n            );\n          })\n          .finally(() => {\n            setLoading(false);\n          });\n      }\n\n      setLoading(false);\n    } catch (error) {\n      addToast(\n        \"Ops! não foi possível acessar o app no momento,  tente novamente mais tarde\",\n        {\n          appearance: \"error\"\n        }\n      );\n    }\n  };\n\n  const handleChange = e => {\n    const { name, value } = e.target;\n\n    setUser({\n      ...user,\n      [name]: value\n    });\n  };\n\n  return (\n    <section id=\"login\">\n      <main className=\"container\">\n        <header>\n          <img src=\"https://img.icons8.com/cotton/64/000000/test-tube.png\" />\n          <h3>Checkin</h3>\n        </header>\n        <FormDefaultWrapper onSubmit={handleSubmit}>\n          <h3>Nova conta</h3>\n          <InputDefault\n            required\n            title=\"Email\"\n            placeholder=\"Email\"\n            type=\"email\"\n            value={user.email}\n            onChange={handleChange}\n            name=\"email\"\n          />\n          <InputDefault\n            required\n            title=\"Nome\"\n            placeholder=\"Nome\"\n            type=\"text\"\n            onChange={handleChange}\n            value={user.name}\n            name=\"name\"\n          />\n          <InputDefault\n            required\n            title=\"Sobrenome\"\n            placeholder=\"Sobrenome\"\n            type=\"text\"\n            onChange={handleChange}\n            value={user.lastname}\n            name=\"lastname\"\n          />\n          <InputDefault\n            required\n            title=\"Senha\"\n            placeholder=\"Senha\"\n            type=\"password\"\n            onChange={handleChange}\n            value={user.password}\n            name=\"password\"\n          />\n          <ButtonDefault\n            title=\"Criar\"\n            type=\"submit\"\n            isLoading={isLoading}\n            disabled={isLoading}\n          />\n          <Link to=\"/\">\n            Já tem uma <span style={{ color: \"#c599c6\" }}>Conta</span>?\n          </Link>\n        </FormDefaultWrapper>\n      </main>\n    </section>\n  );\n}\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const user = localStorage.getItem(\"user\");\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        user ? <Component {...rest} {...props} /> : <Redirect to=\"/\" exact />\n      }\n    />\n  );\n};\n\nconst LoginRoute = ({ component: Component, path, ...rest }) => {\n  const user = localStorage.getItem(\"user\");\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        user && path === \"/\" ? (\n          <Redirect to=\"/home\" exact {...props} />\n        ) : (\n          <Component to=\"/\" exact {...props} />\n        )\n      }\n    />\n  );\n};\n\nconst PublicRoute = ({ component: Component, restricted, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        restricted ? <Redirect to=\"/home\" exact /> : <Component {...props} />\n      }\n    />\n  );\n};\n\nexport { PublicRoute, PrivateRoute, LoginRoute };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { IoIosSettings, IoIosSearch, IoIosHome, IoMdMap } from \"react-icons/io\";\n\nexport function BottomNavigation({ search, latitude, longitude }) {\n  return (\n    <div className=\"bottom-navigator\">\n      <ul>\n        <li>\n          <span onClick={() => search(latitude, longitude)}>\n            <IoIosSearch size={30} color=\"#c599c6\" />\n          </span>\n        </li>\n        <li>\n          <Link to=\"/home\">\n            <IoMdMap size={30} color=\"#c599c6\" />\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/account\">\n            <IoIosSettings size={30} color=\"#c599c6\" />\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\nimport \"./home.css\";\nimport { BottomNavigation } from \"./bottomNavigator\";\nimport { api } from \"../../services/api\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { Logo } from \"../../../assets/icons\";\nimport { UserContext } from \"../../Index\";\n\nfunction Home() {\n  const { user } = useContext(UserContext);\n\n  const [location, setLocation] = useState({\n    viewport: {\n      center: [0, 0],\n      zoom: 15\n    }\n  });\n\n\n  const [userLocation, setUserLocation] = useState([0, 0]);\n  const [loadingData, setLoadingData] = useState(false);\n  const [users, setUsers] = useState([]);\n  const { addToast } = useToasts();\n\n  const findUsersWithSymptom = (latitude, longitude) => {\n    setLoadingData(true);\n\n    const { token } = user;\n\n    api\n      .post(\n        \"/search\",\n        {\n          latitude,\n          longitude\n        },\n        { headers: { Authorization: `Bearer ${token}` } }\n      )\n      .then(({ data: { users } }) => {\n        if (!users.length) {\n          return addToast(\n            \"Não encontramos pessoas com sintomas de covid-19 na sua região\",\n            {\n              appearance: \"info\"\n            }\n          );\n        }\n\n        setUsers(users);\n      })\n      .catch(() => {\n        return addToast(\"Não foi possível fazer uma busca na sua região :-(\", {\n          appearance: \"warning\"\n        });\n      })\n      .finally(() => {\n        setLoadingData(false);\n      });\n  };\n\n  const getLocation = () => {\n    setLoadingData(true);\n    navigator.geolocation.getCurrentPosition(\n      ({ coords: { latitude, longitude } }) => {\n        setUserLocation([latitude, longitude]);\n        setLocation({\n          ...location,\n          viewport: { center: [latitude, longitude] }\n        });\n        findUsersWithSymptom(latitude, longitude);\n      }\n    );\n  };\n\n  const onViewportChanged = viewport => {\n    setLocation({ viewport });\n  };\n\n  useEffect(() => {\n    getLocation();\n  }, []);\n\n  if (loadingData || !user) {\n    return (\n      <div className=\"loading-data\">\n        <Logo />\n        <h2>Checkin</h2>\n        <p>Carregando informações...</p>\n      </div>\n    );\n  }\n\n  return (\n    <section className=\"app\" id=\"app\">\n      <div>\n        <Map\n          center={location.viewport.center}\n          zoom={15}\n          viewport={location.viewport}\n          onViewportChanged={onViewportChanged}\n        >\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <Marker position={userLocation}>\n            <Popup>\n              {`Olá ${user.user.name} ${user.user.lastname}, você esta aqui `}\n            </Popup>\n          </Marker>\n          {users.length &&\n            users.map(user => {\n              return (\n                <Marker position={user.location.coordinates} key={user._id}>\n                  <Popup>\n                    {`${user.name} ${user.lastname} `}\n                    está com os simtomas do covid-19\n                  </Popup>\n                </Marker>\n              );\n            })}\n        </Map>\n      </div>\n      <BottomNavigation\n        search={findUsersWithSymptom}\n        latitude={userLocation[0]}\n        longitude={userLocation[1]}\n      />\n    </section>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { Logo } from \"../../assets/icons\";\nimport { api } from \"../services/api\";\n\nexport const withUserData = Component => props => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const user = localStorage.getItem(\"user\");\n\n    if (user) {\n      const cookie = JSON.parse(user);\n      api\n        .get(\"/user\", {\n          params: {\n            email: cookie.user.email\n          },\n          headers: {\n            Authorization: `Bearer ${cookie.token}`\n          }\n        })\n        .then(({ data }) => {\n          setUser({\n            ...data,\n            token: cookie.token\n          });\n        })\n        .catch(() => {\n          setUser({\n            ...cookie\n          });\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"splash\">\n        <Logo />\n        <h2>Checkin</h2>\n      </div>\n    );\n  }\n\n  return <Component {...props} user={user} setUser={setUser} />;\n};\n","import React, { useEffect, useContext } from \"react\";\nimport { api } from \"../../services/api\";\nimport { withUserData } from \"../../atoms/withUserData\";\nimport { confirmAlert } from \"react-confirm-alert\"; // Import\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport { useToasts } from \"react-toast-notifications\";\nimport \"./home.css\";\nimport { Logo } from \"../../../assets/icons\";\nimport { UserContext } from \"../../Index\";\n\nfunction PreHome({ history }) {\n  const { addToast } = useToasts();\n\n  const { setUser, user } = useContext(UserContext);\n\n  const sendSymptom = async () => {\n    try {\n      const { token } = user;\n      const { data } = await api.patch(\n        \"/user\",\n        {\n          email: user.user.email\n        },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      if (data._id) {\n        setUser({\n          user: {\n            ...data\n          },\n          token: user.token\n        });\n        finish(false);\n      }\n    } catch (error) {\n      return finish(true);\n    }\n  };\n\n  function finish(fin) {\n    const message = fin\n      ? \"Não foi possível atualizart seu cadastro, tente novamente!\"\n      : \"Cadastro atualizado\";\n\n    addToast(message, {\n      appearance: \"info\"\n    });\n    setTimeout(() => {\n      if (fin) {\n        return confirmAlert(options);\n      }\n\n      window.location.href = \"/home\";\n    }, 2000);\n  }\n\n  const options = {\n    title: \"Alerta\",\n    message: \"Como você se sente hoje? apresenta algum simtoma do covid-19?\",\n    buttons: [\n      {\n        label: \"Sim\",\n        onClick: () => sendSymptom()\n      },\n      {\n        label: \"Não\",\n        onClick: () => finish()\n      }\n    ],\n    closeOnEscape: false,\n    closeOnClickOutside: false\n  };\n\n  useEffect(() => {\n    if (user.user.symptom) {\n      return history.push(\"/home\");\n    }\n\n    confirmAlert(options);\n  }, []);\n\n  return (\n    <div className=\"loading-data\">\n      <Logo />\n      <h2>Checkin</h2>\n      <p>Carregando informações...</p>\n    </div>\n  );\n}\n\nexport default withUserData(PreHome);\n","import React, { useState, useContext } from \"react\";\nimport { withUserData } from \"../../atoms/withUserData\";\nimport \"./account.css\";\nimport Switch from \"react-switch\";\nimport { Logo } from \"../../../assets/icons\";\nimport {\n  InputDefault,\n  FormDefaultWrapper,\n  ButtonDefault\n} from \"../../atoms/formDefault\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport { UserContext } from \"../../Index\";\nimport axios from \"axios\";\nimport InputMask from \"react-input-mask\";\nimport { api } from \"../../services/api\";\nimport { useToasts } from \"react-toast-notifications\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { IoIosArrowBack } from \"react-icons/io\";\n\nfunction Account({ history }) {\n  const { addToast } = useToasts();\n\n  const {\n    setUser,\n    user,\n    user: {\n      token,\n      user: { name, lastname, email, address: userAddress, symptom }\n    }\n  } = useContext(UserContext);\n\n  const [checked, setChecked] = useState(symptom);\n  const [address, setAddress] = useState({\n    postalCode: userAddress?.postalCode || \"\",\n    complemento: userAddress?.complemento || \"\",\n    bairro: userAddress?.bairro || \"\",\n    uf: userAddress?.uf || \"\",\n    logradouro: userAddress?.logradouro || \"\",\n    localidade: userAddress?.localidade || \"\",\n    number: userAddress?.localidade || \"\"\n  });\n  const [isLoading, setLoading] = useState(false);\n\n  const options = {\n    title: \"Alerta\",\n    message: \"Tem certeza que quer sair do app?\",\n    buttons: [\n      {\n        label: \"Sim\",\n        onClick: () => handleExit()\n      },\n      {\n        label: \"Não\",\n        onClick: () => {}\n      }\n    ],\n    closeOnEscape: false,\n    closeOnClickOutside: false\n  };\n\n  const handleCheckOption = () => {\n    setChecked(!checked);\n  };\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    api\n      .patch(\n        \"/address\",\n        {\n          ...address,\n          email: email,\n          number: parseInt(address.number)\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }\n      )\n      .then(({ data }) => {\n        if (data) {\n          setUser({\n            user: {\n              ...data\n            },\n            token\n          });\n\n          addToast(\"Endereço atualizado com sucesso!\", {\n            appearance: \"info\"\n          });\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const handleChange = e => {\n    const {\n      target: { value, name }\n    } = e;\n\n    setAddress({\n      ...address,\n      [name]: value\n    });\n\n    if (name === \"postalCode\") {\n      let cep = value.replace(/\\_|-/g, \"\");\n\n      axios\n        .get(`https://viacep.com.br/ws/${value.replace(/\\.|\\-/, \"\")}/json/`)\n        .then(({ data }) => {\n          if (data.erro && cep.length === 8) {\n            addToast(\n              `Nenhum endereço foi encontrado para o CEP: ${address.postalCode}`,\n              {\n                appearance: \"warning\"\n              }\n            );\n            return setAddress({\n              ...address\n            });\n          }\n\n          setAddress({\n            ...data,\n            postalCode: data.cep\n          });\n        });\n    }\n  };\n\n  const handleExit = () => {\n    localStorage.removeItem(\"user\");\n    window.location.href = \"/\";\n  };\n\n  return (\n    <section id=\"account\">\n      <IoIosArrowBack\n        onClick={() => history.push(\"/home\")}\n        size={40}\n        color=\"#c599c6\"\n      />\n\n      <main className=\"account-page\">\n        <header style={{ textAlign: \"center\" }}>\n          <h2>Olá {`${name} ${lastname}, esperamos que esteja bem.`}</h2>\n        </header>\n        <div className=\"btn-exit\">\n          <ButtonDefault\n            onClick={() =>\n              confirmAlert({ ...options, closeOnClickOutside: true })\n            }\n            title=\"Sair\"\n          />\n        </div>\n        <div>\n          <hr />\n          <p>Veja abaixo algumas infomações úteis</p>\n        </div>\n        <div className=\"symptom\">\n          <label className=\"label-symptom\">\n            <span>\n              <h3>Possui algum dos sintomas do covid-19?</h3>\n            </span>\n            <Switch onChange={handleCheckOption} checked={checked} />\n          </label>\n        </div>\n        <div className=\"address\">\n          <label>\n            <h3>Endereço cadastrado</h3>\n          </label>\n          <FormDefaultWrapper onSubmit={handleSubmitForm}>\n            <div className=\"default-input\">\n              <label>CEP</label>\n              <InputMask\n                mask=\"99999-999\"\n                onChange={handleChange}\n                name=\"postalCode\"\n                value={address.postalCode}\n                placeholder=\"xx.xxx-xxx\"\n              />\n            </div>\n            <InputDefault\n              type=\"text\"\n              required\n              onChange={() => {}}\n              placeholder=\"Rua\"\n              name=\"logradouro\"\n              disabled\n              title=\"Rua\"\n              value={address.logradouro}\n              onChange={handleChange}\n            />\n\n            <InputDefault\n              type=\"text\"\n              required\n              onChange={() => {}}\n              placeholder=\"Bairro\"\n              name=\"bairro\"\n              disabled\n              title=\"Bairro\"\n              value={address.bairro}\n              onChange={handleChange}\n            />\n            <InputDefault\n              type=\"text\"\n              required\n              onChange={() => {}}\n              placeholder=\"Localidade\"\n              name=\"localidade\"\n              disabled\n              title=\"Localidade\"\n              value={address.localidade}\n              onChange={handleChange}\n            />\n            <InputDefault\n              type=\"text\"\n              required\n              onChange={() => {}}\n              placeholder=\"UF\"\n              name=\"uf\"\n              disabled\n              title=\"UF\"\n              value={address.uf}\n              onChange={handleChange}\n            />\n            <InputDefault\n              type=\"text\"\n              required\n              onChange={handleChange}\n              placeholder=\"Complemento\"\n              name=\"complemento\"\n              title=\"Complemento\"\n              value={address.complemento}\n              onChange={handleChange}\n            />\n            <InputDefault\n              type=\"cel\"\n              required\n              onChange={() => {}}\n              placeholder=\"Número\"\n              name=\"number\"\n              title=\"Número\"\n              value={address.number}\n              onChange={handleChange}\n            />\n            <ButtonDefault\n              type=\"submit\"\n              isLoading={isLoading}\n              title={user.address ? \"Atualizar\" : \"Cadastrar\"}\n            />\n          </FormDefaultWrapper>\n        </div>\n      </main>\n      <LoadingOverlay\n        active={isLoading}\n        spinner\n        className=\"loading-modal\"\n        text=\"Atualizando aguarde...\"\n      ></LoadingOverlay>\n    </section>\n  );\n}\nexport default withUserData(Account);\n","import React, { createContext } from \"react\";\nimport { Switch, BrowserRouter } from \"react-router-dom\";\nimport Login from \"./pages/login/login\";\nimport SignIn from \"./pages/create/signin\";\nimport { ToastProvider } from \"react-toast-notifications\";\nimport { LoginRoute, PublicRoute, PrivateRoute } from \"./atoms/routesConfig\";\nimport Home from \"./pages/home/home\";\nimport PreHome from \"./pages/home/preHome\";\nimport Account from \"./pages/account/account\";\nimport { withUserData } from \"./atoms/withUserData\";\n\nexport const UserContext = createContext();\n\nfunction App({ user, setUser }) {\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      <ToastProvider>\n        <BrowserRouter basename=\"/\">\n          <Switch>\n            <LoginRoute path=\"/\" exact component={Login} />\n            <PublicRoute path=\"/signin\" exact component={SignIn} />\n            <PrivateRoute path=\"/home\" exact component={Home} />\n            <PrivateRoute path=\"/pre-home\" exact component={PreHome} />\n            <PrivateRoute path=\"/account\" exact component={Account} />\n          </Switch>\n        </BrowserRouter>\n      </ToastProvider>\n    </UserContext.Provider>\n  );\n}\n\nexport default withUserData(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./components/Index\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}